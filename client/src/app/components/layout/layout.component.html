<mat-sidenav-container class="layout-container" [class.dark-theme]="isDarkMode">
  <mat-sidenav #sidenav mode="side" opened class="sidebar">
    <mat-toolbar color="primary" class="sidebar-header">
      <h2>Admin Panel</h2>
    </mat-toolbar>

    <mat-nav-list>
      <mat-list-item (click)="navigateTo('dashboard')" routerLink="/admin/dashboard" class="nav-item">
        <mat-icon matListItemIcon class="icon-wrapper dashboard-icon">dashboard</mat-icon>
        <span matListItemTitle>Dashboard</span>
      </mat-list-item>

      <mat-list-item (click)="navigateTo('users')" routerLink="/admin/users" class="nav-item">
        <mat-icon matListItemIcon class="icon-wrapper users-icon">people</mat-icon>
        <span matListItemTitle>Users</span>
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar class="top-navbar">
      <span class="spacer"></span>

      <div class="navbar-right">
        <button
          mat-icon-button
          (click)="toggleTheme()"
          matTooltip="Toggle theme"
          class="theme-btn"
        >
          <mat-icon class="icon-wrapper theme-icon">{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</mat-icon>
        </button>

        <button 
          mat-icon-button 
          [matMenuTriggerFor]="userMenu"
          matTooltip="User menu"
          class="user-menu-btn"
        >
          <mat-icon class="icon-wrapper user-menu-icon">account_circle</mat-icon>
        </button>

        <button 
          mat-icon-button
          (click)="logout()"
          matTooltip="Logout"
          class="logout-btn"
        >
          <mat-icon class="icon-wrapper logout-navbar-icon">logout</mat-icon>
        </button>

        <mat-menu #userMenu="matMenu">
          <div mat-menu-item disabled class="user-name">
            <span *ngIf="(currentUser$ | async) as user">{{ user.name }}</span>
          </div>
          <mat-divider></mat-divider>
          <button mat-menu-item (click)="logout()">
            <span>Logout</span>
          </button>
        </mat-menu>
      </div>
    </mat-toolbar>

    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
